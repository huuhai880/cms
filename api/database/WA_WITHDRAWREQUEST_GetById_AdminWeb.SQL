ALTER PROCEDURE WA_WITHDRAWREQUEST_GetById_AdminWeb
    @WDREQUESTID BIGINT = 0
AS 
BEGIN
        SELECT 
                    WA_WITHDRAWREQUEST.WDREQUESTID,
                    WA_WITHDRAWREQUEST.WDREQUESTNO,
                    WA_WITHDRAWREQUEST.WDREQUESTSTATUS,
                    WA_WITHDRAWREQUEST.WDVALUES,
                    WA_WITHDRAWREQUEST.WDDATECONFIRM,
                    WA_WITHDRAWREQUEST.WDDATEREQUEST,
                    WA_WITHDRAWREQUEST.CONFIRMUSER,
                    WA_WITHDRAWREQUEST.NOTE,
                    WA_WITHDRAWREQUEST.DESCRIPTION,
                    WA_WITHDRAWREQUEST.MEMBERID,
                    CRM_ACCOUNT.FULLNAME,
                    CRM_ACCOUNT.PHONENUMBER,
                    CRM_ACCOUNT.EMAIL,
                    CRM_ACCOUNT.CUSTOMERCODE,

                    MD_BANK_ACCOUNT.BANKACCOUNTID,
                    MD_BANK_ACCOUNT.BANKID,
                    MD_BANK_ACCOUNT.BRANCH,
                    MD_BANK_ACCOUNT.HOLDER,
                    MD_BANK_ACCOUNT.SWIFTNUMBER,
                    MD_BANK.BANKNAME,
                    MD_BANK.BANKCODE,
                    MD_BANK_ACCOUNT.BANKACCOUNTNUMBER,
                    WA_WALLETTRANS_OUT.PAYMENTIMAGE

        FROM        WA_WITHDRAWREQUEST

        JOIN        CRM_ACCOUNT
        ON          WA_WITHDRAWREQUEST.MEMBERID = CRM_ACCOUNT.MEMBERID
        AND         CRM_ACCOUNT.ISACTIVE = 1
        AND         CRM_ACCOUNT.ISDELETED = 0

        LEFT JOIN   MD_BANK_ACCOUNT
        ON          MD_BANK_ACCOUNT.BANKACCOUNTID = WA_WITHDRAWREQUEST.BANKACCOUNTID
        AND         MD_BANK_ACCOUNT.ISDELETED = 0
        AND         MD_BANK_ACCOUNT.ISACTIVE = 1
        AND         MD_BANK_ACCOUNT.MEMBERID = WA_WITHDRAWREQUEST.MEMBERID

        LEFT JOIN   MD_BANK
        ON          MD_BANK.BANKID = MD_BANK_ACCOUNT.BANKID
        AND         MD_BANK.ISACTIVE = 1
        AND         MD_BANK.ISDELETED = 0

        LEFT JOIN   WA_WALLETTRANS_OUT
        ON          WA_WALLETTRANS_OUT.WDREQUESTID = WA_WITHDRAWREQUEST.WDREQUESTID
        AND         WA_WALLETTRANS_OUT.ISACTIVE = 1
        AND         WA_WALLETTRANS_OUT.ISDELETED = 0

        WHERE       WA_WITHDRAWREQUEST.ISDELETED = 0
        AND         WA_WITHDRAWREQUEST.ISACTIVE = 1
        AND         WA_WITHDRAWREQUEST.WDREQUESTID = @WDREQUESTID

END